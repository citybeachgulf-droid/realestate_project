{% extends 'base.html' %}
{% block title %}{{ apartment and _('Edit Apartment') or _('Add Apartment') }}{% endblock %}

{% block content %}

<!-- Custom Styles -->
<style>
.card-form {
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    padding: 20px;
    margin-top: 20px;
    background-color: #ffffff;
}

.btn-primary, .btn-secondary {
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    transition: all 0.2s ease-in-out;
}

.btn-primary:hover, .btn-secondary:hover {
    transform: translateY(-2px);
}

.form-label {
    font-weight: 500;
}

input.form-control, select.form-select {
    border-radius: 8px;
}

h3 {
    margin-bottom: 20px;
}
</style>

<div class="card card-form mx-auto" style="max-width: 900px;">
  <h3 class="text-center">{{ apartment and _('Edit Apartment') or _('Add Apartment') }} - {{ building.title }}</h3>
  <form method="post" enctype="multipart/form-data">
    <div class="row">
      <div class="col-md-4">
        <div class="mb-3">
          <label class="form-label"><i class="bi bi-hash me-1"></i>{{ _('Number') }}</label>
          <input class="form-control" name="number" value="{{ apartment.number if apartment else '' }}" />
        </div>
      </div>
      <div class="col-md-4">
        <div class="mb-3">
          <label class="form-label"><i class="bi bi-grid me-1"></i>{{ _('Floor') }}</label>
          <input class="form-control" name="floor" type="number" step="1" value="{{ apartment.floor if apartment and apartment.floor is not none else '' }}" />
        </div>
      </div>
      <div class="col-md-4">
        <div class="mb-3">
          <label class="form-label"><i class="bi bi-arrows-fullscreen me-1"></i>{{ _('Area (sqm)') }}</label>
          <input class="form-control" name="area_sqm" type="number" step="0.01" value="{{ apartment.area_sqm if apartment and apartment.area_sqm is not none else '' }}" />
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-4">
        <div class="mb-3">
          <label class="form-label"><i class="bi bi-door-closed me-1"></i>{{ _('Bedrooms') }}</label>
          <input class="form-control" name="bedrooms" type="number" step="1" value="{{ apartment.bedrooms if apartment and apartment.bedrooms is not none else '' }}" />
        </div>
      </div>
      <div class="col-md-4">
        <div class="mb-3">
          <label class="form-label"><i class="bi bi-bath me-1"></i>{{ _('Bathrooms') }}</label>
          <input class="form-control" name="bathrooms" type="number" step="1" value="{{ apartment.bathrooms if apartment and apartment.bathrooms is not none else '' }}" />
        </div>
      </div>
      <div class="col-md-4">
        <div class="mb-3">
          <label class="form-label"><i class="bi bi-currency-dollar me-1"></i>{{ _('Rent Price') }}</label>
          <input class="form-control" name="rent_price" type="number" step="0.01" value="{{ apartment.rent_price if apartment and apartment.rent_price is not none else '' }}" />
        </div>
      </div>
    </div>

    {% if apartment %}
    <div class="mb-3">
      <label class="form-label"><i class="bi bi-info-circle me-1"></i>{{ _('Status') }}</label>
      <select class="form-select" name="status">
        <option value="available" {% if apartment.status=='available' %}selected{% endif %}>{{ _('Available') }}</option>
        <option value="occupied" {% if apartment.status=='occupied' %}selected{% endif %}>{{ _('Occupied') }}</option>
        <option value="maintenance" {% if apartment.status=='maintenance' %}selected{% endif %}>{{ _('Maintenance') }}</option>
      </select>
    </div>
    {% endif %}

    <div class="mb-3">
      <label class="form-label"><i class="bi bi-images me-1"></i>{{ _('Images') }}</label>
      <input class="form-control" type="file" name="images" accept="image/*" multiple />
    </div>

    <div class="d-flex gap-2 mt-3">
      <button class="btn btn-primary" type="submit"><i class="bi bi-save me-1"></i>{{ _('Save') }}</button>
      <a class="btn btn-secondary" href="{{ url_for('employee.apartments_list', building_id=building.id) }}"><i class="bi bi-x-circle me-1"></i>{{ _('Cancel') }}</a>
    </div>
  </form>
</div>

{% endblock %}
