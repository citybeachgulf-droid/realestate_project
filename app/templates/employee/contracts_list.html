{% extends 'base.html' %}
{% block title %}{{ _('Contracts') }}{% endblock %}

{% block content %}

<!-- Custom Styles -->
<style>
.table thead th {
    background-color: #f8f9fa;
    font-weight: 600;
}

.table tbody tr:hover {
    background-color: #f1f5f9;
}

.btn {
    transition: all 0.2s ease-in-out;
}

.btn:hover {
    transform: translateY(-2px);
}
</style>

<div class="d-flex justify-content-between align-items-center mb-3">
  <h3><i class="bi bi-file-text me-2"></i>{{ _('Contracts') }}</h3>
  <a class="btn btn-primary" href="{{ url_for('employee.contracts_create') }}">
    <i class="bi bi-plus-circle me-1"></i>{{ _('Add Contract') }}
  </a>
</div>

<div class="table-responsive">
  <table class="table table-striped table-hover align-middle">
    <thead>
      <tr>
        <th>#</th>
        <th>{{ _('Property') }}</th>
        <th>{{ _('Tenant') }}</th>
        <th>{{ _('Start') }}</th>
        <th>{{ _('End') }}</th>
        <th>{{ _('Rent') }}</th>
        <th>{{ _('Status') }}</th>
        <th>{{ _('Document') }}</th>
      </tr>
    </thead>
    <tbody>
      {% for c in contracts %}
      <tr>
        <td>{{ c.id }}</td>
        <td>{{ c.property.title }}</td>
        <td>{{ c.tenant.username }}</td>
        <td>{{ c.start_date }}</td>
        <td>{{ c.end_date }}</td>
        <td>{{ c.rent_amount }}</td>
        <td>
          {% if c.status == 'active' %}
            <span class="badge bg-success">{{ _('Active') }}</span>
          {% elif c.status == 'expired' %}
            <span class="badge bg-danger">{{ _('Expired') }}</span>
          {% elif c.status == 'pending' %}
            <span class="badge bg-warning text-dark">{{ _('Pending') }}</span>
          {% else %}
            <span class="badge bg-secondary">{{ c.status }}</span>
          {% endif %}
        </td>
        <td>
          {% if c.document_path %}
          <a class="btn btn-sm btn-outline-secondary" href="{{ url_for('uploaded_file', filename=c.document_path) }}" target="_blank">
            <i class="bi bi-box-arrow-up-right me-1"></i>{{ _('View') }}
          </a>
          {% else %}
          <span class="text-muted">â€”</span>
          {% endif %}
        </td>
      </tr>
      {% else %}
      <tr>
        <td colspan="8" class="text-center py-4">{{ _('No data') }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
