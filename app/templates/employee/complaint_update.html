{% extends 'base.html' %}
{% block title %}{{ _('Update Complaint') }}{% endblock %}

{% block content %}

<!-- Custom Styles -->
<style>
.card-form {
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    padding: 20px;
    margin-top: 20px;
    background-color: #ffffff;
}

.btn-primary, .btn-secondary {
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    transition: all 0.2s ease-in-out;
}

.btn-primary:hover, .btn-secondary:hover {
    transform: translateY(-2px);
}

.form-label {
    font-weight: 500;
}

textarea.form-control {
    resize: vertical;
}
</style>

<div class="card card-form mx-auto" style="max-width: 700px;">
  <h3 class="text-center mb-4"><i class="bi bi-exclamation-triangle me-1"></i>{{ _('Update Complaint') }}</h3>
  <form method="post">
    <div class="mb-3">
      <label class="form-label"><i class="bi bi-tag me-1"></i>{{ _('Subject') }}</label>
      <input type="text" class="form-control" value="{{ c.subject }}" disabled>
    </div>
    <div class="mb-3">
      <label class="form-label"><i class="bi bi-card-text me-1"></i>{{ _('Description') }}</label>
      <textarea class="form-control" rows="3" disabled>{{ c.description }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label"><i class="bi bi-info-circle me-1"></i>{{ _('Status') }}</label>
      <select name="status" class="form-select">
        {% set statuses = ['new', 'reviewing', 'resolved', 'closed'] %}
        {% for s in statuses %}
        <option value="{{ s }}" {{ 'selected' if c.status==s else '' }}>{{ s|capitalize }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="mb-3">
      <label class="form-label"><i class="bi bi-journal-text me-1"></i>{{ _('Notes') }}</label>
      <textarea name="notes" class="form-control" rows="4">{{ c.notes or '' }}</textarea>
    </div>
    <div class="d-flex gap-2 mt-3">
      <button class="btn btn-primary" type="submit"><i class="bi bi-save me-1"></i>{{ _('Save') }}</button>
      <a class="btn btn-secondary" href="{{ url_for('employee.dashboard') }}"><i class="bi bi-x-circle me-1"></i>{{ _('Cancel') }}</a>
    </div>
  </form>
</div>

{% endblock %}
