{% extends 'base.html' %}
{% block title %}{{ _('Complaint') }} #{{ c.id }}{% endblock %}
{% block content %}
<h3 class="mb-3">{{ _('Complaint') }} #{{ c.id }}</h3>
<div class="card">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-start">
      <div>
        <div class="fw-bold">{{ c.subject }}</div>
        <div class="text-muted small"><i class="bi bi-clock"></i> {{ _('Created at') }}: {{ c.created_at }}</div>
      </div>
      {% set badge_class = {
        'new':'bg-primary', 
        'reviewing':'bg-warning text-dark', 
        'resolved':'bg-success', 
        'closed':'bg-secondary'
      }[c.status] %}
      <span class="badge {{ badge_class }}">{{ c.status }}</span>
    </div>
    <hr>
    <p>{{ c.description }}</p>
    {% if c.notes %}
    <div class="mt-3">
      <div class="fw-bold">{{ _('Notes') }}</div>
      <div class="text-muted">{{ c.notes }}</div>
    </div>
    {% endif %}
  </div>
</div>

<div class="mt-3 d-flex gap-2">
  <a class="btn btn-secondary" href="{{ url_for('tenant.dashboard') }}">{{ _('Back to dashboard') }}</a>
  <a class="btn btn-primary" href="{{ url_for('tenant.complaint_update', comp_id=c.id) }}">{{ _('Update Complaint') }}</a>
</div>
{% endblock %}
